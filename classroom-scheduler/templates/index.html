{{define "index.html"}}
{{template "header.html" .}}

<h2>Welcome to the Classroom Scheduler</h2>

{{if gt (len .Classrooms) 0}}
  <div class="grid">
    {{range .Classrooms}}
      <a href="/classroom/{{.ID}}" class="card">
        <h2>{{.Name}}</h2>
        <div class="content">
          {{with index $.Sessions .ID}}
            {{range $i, $sess := .}}
              <p>
                <strong>Session {{add $i 1}}:</strong><br>
                {{if $sess.Title}}{{$sess.Title}}{{else}}<em>No title</em>{{end}}
                <em>({{$sess.StartTime}}–{{$sess.EndTime}})</em>
              </p>
            {{else}}
              <p>No sessions scheduled yet</p>
            {{end}}
          {{else}}
            <p>No sessions scheduled yet</p>
          {{end}}
        </div>
      </a>
    {{end}}
  </div>
{{else}}
  <div class="empty">
    <p>No classrooms configured yet.</p>
    <a href="/config" class="btn-primary">Configure Classrooms →</a>
  </div>
{{end}}


{{template "footer.html" .}}
{{end}}